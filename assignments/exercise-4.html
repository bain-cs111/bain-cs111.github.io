<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <link rel="icon" href="/assets/images/favicon.ico" type="image/x-icon"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link id="github-css" rel="stylesheet" href="/assets/main.css"> </head> <title>Exercise 4</title> <body class="two-column"> <div id="nav-bar"> <a href="#part-0-fixing-bugs">Part 0</a><a href="#part-1-ordinary-recursion">Part 1</a><a href="#part-2-iterative-recursion">Part 2</a><a href="#double-checking-your-work">Double Checking your Work</a><a href="#submission-details">Submission Details</a> </div> <article> <div class="main" style="max-height: 100vh;"> <object hidden="hidden" id="assignment-flag-custom"></object> <object hidden="hidden" id="canvas_id">1483854</object> <object hidden="hidden" id="due_date">2024-10-29</object> <object hidden="hidden" id="canvas_assignment_group">Exercises</object> <object hidden="hidden" id="canvas_submission_types">online_upload</object> <object hidden="hidden" id="canvas_allowed_extensions">rkt</object> <object hidden="hidden" id="canvas_points_possible">100</object> <p>In this assignment, you will practice writing recursive functions using ordinary recursion (i.e. without accumulators) and iterative recursion (i.e. with accumulators).</p> <blockquote> <p><strong>VERY VERY IMPORTANT</strong>: Unless otherwise stated, you may not use <code class="language-plaintext highlighter-rouge">map</code>, <code class="language-plaintext highlighter-rouge">filter</code>, <code class="language-plaintext highlighter-rouge">foldl</code>, <code class="language-plaintext highlighter-rouge">foldr</code>, <code class="language-plaintext highlighter-rouge">apply</code>, or <code class="language-plaintext highlighter-rouge">build-list</code>. You will not receive credit for solutions using these functions.</p> </blockquote> <p><a class="nu-button" href="https://bain-cs111.github.io/course-files/exercises/exercise_4_template.zip" target="_blank"> Exercise 4 Starter Files <i class="fas fa-download"></i> </a></p> <details> <summary>Recursion Walkthrough</summary> You can always approach a recursive function in discrete steps:<br><br> 1. Write the type signature for the function. Example: <code>; fact: number -&gt; number</code><br><br> 2. Write the purpose statement for the function. Example: <code>; compute the factorial of the given number</code><br><br> 3. Determine the base case for your recursion. This is the simplest case, in which the answer is trivial. Example: <pre>
; (fact 0) =&gt; 1
</pre> 4. Write a test case (using <code>check-expect</code>) for the base case. Example:<code>(check-expect (fact 0) 1)</code><br><br> 5. Write multiple test cases for the recursive case. Remember to test for all <b>edge cases</b> or situations where your function might break. Example: <pre>
; using Racket's * function to avoid having to do math
(check-expect (fact 1) 1)
(check-expect (fact 5)
                 (* 5 4 3 2 1))
</pre> 6. Finally, write the code itself. Remember that although the specifics will vary, you generally want to have a pattern like this: <pre>
(if <i>BaseCase?</i>      ; (= n 0)
    <i>BaseCaseResult</i> ; 1
    <i>RecursiveStep</i>) ; (* n (fact (- n 1)))
</pre> 6a. If you have multiple cases, remember that the <em>RecursiveStep</em> can be any Racket expression, including another <code>if</code> expression. Note that the <em>RecursiveStep</em> often takes the form: <pre>
(<i>Combiner FirstPartOfData</i>
         (<i>RecursiveCall RestOfData</i>))
</pre> </details> <hr> <h2 id="part-0-fixing-bugs">Part 0. Fixing Bugs</h2> <p>In this section, we’ll give you some recursive function that have an error in them (just like on our Quizzes). Your job is to fix each function (the fix should be short, just like in the quizzes – you only need to change at most one line of code).</p> <h3 id="activity-1">Activity 1</h3> <div class="language-racket highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">;; sum-of-squares-up-to: number -&gt; number</span>
<span class="c1">;; This function takes a non-negative integer as input and computes the sum of squares up to that integer.</span>
</code></pre></div></div> <p>The function <code class="language-plaintext highlighter-rouge">sum-of-squares-up-to</code> should take a non-negative integer n and compute <code class="language-plaintext highlighter-rouge">1^2 + 2^2 + ⋯ + n^2</code>. However, the provided code always runs out of memory. Fix the problem with the function and uncomment the provided <code class="language-plaintext highlighter-rouge">check-expect</code></p> <h3 id="activity-2">Activity 2</h3> <div class="language-racket highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">;; multiply-everything: (listof number) -&gt; number</span>
<span class="c1">;; Computes the product of all numbers in a given list of numbers</span>
</code></pre></div></div> <p>The function <code class="language-plaintext highlighter-rouge">multiply-everything</code> should take a list of numbers and compute their product. However, the provided code always outputs <code class="language-plaintext highlighter-rouge">0</code>. Fix the problem!</p> <h3 id="activity-3">Activity 3</h3> <div class="language-racket highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">;; any-zeros?: (listof number) -&gt; boolean</span>
<span class="c1">;; A predicate that tests to see if there are any 0s in a given list of numbers</span>
</code></pre></div></div> <p>The function <code class="language-plaintext highlighter-rouge">any-zeros?</code> should take a list of numbers and output <code class="language-plaintext highlighter-rouge">#true</code> if there is any zero in the list or <code class="language-plaintext highlighter-rouge">#false</code> otherwise. For example, <code class="language-plaintext highlighter-rouge">(any-zeros? empty)</code> should output <code class="language-plaintext highlighter-rouge">#false</code>.</p> <ul> <li>First, define <code class="language-plaintext highlighter-rouge">test-input-for-any-zeros?</code> to be a list of numbers that reveals the bug in <code class="language-plaintext highlighter-rouge">any-zeros?</code> </li> <li>THEN, fix the problem with the code.</li> </ul> <h3 id="activity-4">Activity 4</h3> <p>Consider the following compound type:</p> <pre>
;; A stamp-collection-entry is a struct:
;   (make-stamp-collection-entry String Number Number)
(define-struct stamp-collection-entry (name value count))
;; - `name` is the name of the stamp. It must store a string.
;; - `value' is the monetary value of the stamp. It must store a positive number.
;; -`count' is how many of that stamp you have. It must store a non-negative integer.
</pre> <p>The <code class="language-plaintext highlighter-rouge">stamp-collection-entry</code> type represents a <em>name</em> of stamp, and a <em>count</em> of how many stamps that have the same <em>value</em> (in dollars). For example, the object <code class="language-plaintext highlighter-rouge">(make-stamp-collection-entry "Inverted Jenny" 1000 3)</code> represents a stamp in my collection with the name “Inverted Jenny”, of which I have 3, each of which is worth $1000.</p> <p>Now, given a list of stamp-collection-entry objects, we’ve given you a broken function <code class="language-plaintext highlighter-rouge">total-value</code> that is supposed to compute the total value of a given collection.</p> <div class="language-racket highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">;; total-value: (listof stamp-collection-entry) -&gt; number</span>
<span class="c1">;; Computes the total value of a given stamp collection</span>
</code></pre></div></div> <p>For example, the below should return 21510 since that’s the result of: <code class="language-plaintext highlighter-rouge">20000(1) + 1000(0) + 500(3) + 1(10)</code></p> <pre>
(total-value
  (list (make-stamp-collection-entry "Inverted Jenny" 20000 1)
        (make-stamp-collection-entry "GWash Z-Grill Stamp" 1000 0)
        (make-stamp-collection-entry "Tyrian Plum" 500 3)
        (make-stamp-collection-entry "Forever Stamps" 1 10)))
</pre> <p>Your job is to fix the function’s definition so that the given <code class="language-plaintext highlighter-rouge">check-expect</code> passes.</p> <hr> <h2 id="part-1-ordinary-recursion">Part 1. Ordinary Recursion</h2> <p>For this section, use ordinary recursion (without an accumulator) for all your functions. This is the simplest form of recursion, and the first version we introduced in the recordings (Lecture 11).</p> <h3 id="activity-1-concat-words">Activity 1. <code class="language-plaintext highlighter-rouge">concat-words</code> </h3> <div class="language-racket highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">;; concat-words : (listof string) -&gt; string</span>
<span class="c1">;; Takes a list of words and concatenates them using a comma.</span>
</code></pre></div></div> <p>Define a function <code class="language-plaintext highlighter-rouge">concat-words</code> that takes a list of strings and concatenates them using a comma (<code class="language-plaintext highlighter-rouge">,</code>). A sample function call and output is below:</p> <div class="language-racket highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">&gt;</span> <span class="p">(</span><span class="nf">concat-words</span> <span class="p">(</span><span class="nb">list</span> <span class="s">"recursion"</span> <span class="s">"is"</span> <span class="s">"so"</span> <span class="s">"cool"</span><span class="p">))</span>
<span class="s">"recursion,is,so,cool,"</span>
</code></pre></div></div> <details> <summary>Hints!</summary> Need help with <code>string</code> functions? Checkout the Racket Docs or our <a href="https://bain-cs111.github.io/course-files/quizzes/quiz_glossary_compact.pdf">Quiz Glossary</a>! </details> <h3 id="activity-2-my-iterated-overlay">Activity 2. <code class="language-plaintext highlighter-rouge">my-iterated-overlay</code> </h3> <p>Time for everyone’s favorite sequel: “Iterated Overlay Strikes Back.”</p> <p>Write a recursive function, <code class="language-plaintext highlighter-rouge">my-iterated-overlay</code>, that behaves exactly the same way as <code class="language-plaintext highlighter-rouge">iterated-overlay</code>. If you’ve forgotten how <code class="language-plaintext highlighter-rouge">iterated-overlay</code> works, look it up in the documentation.</p> <div class="language-racket highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">; my-iterated-overlay: (number -&gt; image) number -&gt; image</span>
<span class="c1">; takes a picture making function and a number of times to iterate to generate an image</span>
</code></pre></div></div> <details> <summary>Hints</summary> <ul> <li>You will need to return a blank image if the number of iterations is zero. You can do this by returning <code>empty-image</code> (no parentheses needed – it’s a constant, not a function).</li> <li>Remember that calling <code>(iterated-overlay func 5)</code> calls func with the sequence 0,1,2,3,4. More generally, calling <code>(iterated-overlay func count)</code> will generate the sequence <code>0,1,...,n - 1</code>.</li> <li>Remember that <code>(overlay a b)</code> puts a on top of b, and <code>(overlay b a)</code> puts b on top of a. You need to make sure the iterations stack appropriately. For instance, if <code>gen</code> is an image generator function, the result of calling <code>(my-iterated-overlay gen 5)</code> should place <code>(gen 0)</code> on top, then <code>(gen 1)</code>, and so on, with <code>(gen 4)</code> at the bottom.</li> </ul> </details> <p>Calling your function like this:</p> <div class="language-racket highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nf">my-iterated-overlay</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nf">n</span><span class="p">)</span>
                       <span class="p">(</span><span class="nf">square</span> <span class="p">(</span><span class="nb">*</span> <span class="nv">n</span> <span class="mi">50</span><span class="p">)</span>
                               <span class="s">"solid"</span>
                               <span class="c1">; make each iteration</span>
                               <span class="c1">; progressively lighter</span>
                               <span class="p">(</span><span class="nf">color</span> <span class="p">(</span><span class="nb">*</span> <span class="nv">n</span> <span class="mi">50</span><span class="p">)</span>
                                      <span class="mi">0</span> <span class="mi">0</span><span class="p">)))</span>
                     <span class="mi">5</span><span class="p">)</span>   <span class="c1">; number of iterations</span>
</code></pre></div></div> <p>should return a result like this:</p> <p><img alt="my-iterated-overlay example output" src="https://bain-cs111.github.io/assets/exercise_4/my-iterated-overlay.svg"></p> <blockquote> <p>Note: DON’T COPY AND PASTE THIS IMAGE AS A TEST. Instead, generate the image using <code class="language-plaintext highlighter-rouge">iterated-overlay</code> and compare it directly to your <code class="language-plaintext highlighter-rouge">my-iterated-overlay</code>.</p> </blockquote> <h3 id="activity-3-my-iterated-any">Activity 3. <code class="language-plaintext highlighter-rouge">my-iterated-any</code> </h3> <p>Now write a recursive function, <code class="language-plaintext highlighter-rouge">my-iterated-any</code>, that takes an arbitrary <strong>combiner</strong> (a function with the signature: <code class="language-plaintext highlighter-rouge">image image -&gt; image</code>), a generator, and finally a number of iterations, and combines the results using the specified combiner.</p> <div class="language-racket highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">; my-iterated-any:</span>
<span class="c1">; (image image -&gt; image)  (number -&gt; image) number -&gt; image</span>
<span class="c1">; ~~~~~~~~~~~~~~~~~~~~~   ~~~~~~~~~~~~~~~~  ~~~~~~</span>
<span class="c1">; &lt;a-combiner&gt;           &lt;a-generator&gt;     &lt;a-count&gt;</span>
</code></pre></div></div> <p>You can test your function against your implementation of <code class="language-plaintext highlighter-rouge">my-iterated-overlay</code> from the previous question. Just like when we moved from <code class="language-plaintext highlighter-rouge">count-odd?</code> to <code class="language-plaintext highlighter-rouge">count</code> in the tutorial, <strong>very little will change between your two functions.</strong></p> <details> <summary>Reminder!</summary> Recall that <code>iterated-overlay</code>, <code>iterated-beside</code>, <code>iterated-above</code>, etc. all perform the same general task: they call a generator some number of times and then combine the resulting images into a single return value. The name of each function specifies the combiner used: <pre>
; square-gen : number -&gt; image
(define (square-gen n)
  (square (* n 10)
          "solid"
          (color (* n 50)
                 0 0)))
(check-expect (iterated-beside square-gen 3)
              ; Equivalent to using `beside` to combine
              ; all of the iteration results
              (beside (square-gen 0)
                      (square-gen 1)
                      (square-gen 2)))
</pre> Namely, passing in overlay as our combiner: <pre>(my-iterated-any overlay a-generator a-count)</pre> should be equivalent to just calling <code>my-iterated-overlay</code>: <pre>(my-iterated-overlay a-generator a-count)</pre> which, in turn, should be equivalent to calling the original: <pre>
(iterated-overlay a-generator a-count)
</pre> The same holds for <code>iterated-beside</code>, <code>iterated-above</code>, etc. </details> <hr> <h2 id="part-2-iterative-recursion">Part 2. Iterative Recursion</h2> <p>To wrap up the assignment, you’ll tweak a few of your functions from Part 1 to use <strong>iterative recursion</strong>. Recall that iterative recursion differs from ordinary recursion by the use of an accumulator argument which represents the partial result at that current point in time.</p> <h3 id="activity-1-concat-wordsiter">Activity 1. <code class="language-plaintext highlighter-rouge">concat-words/iter</code> </h3> <p>Re-implement <code class="language-plaintext highlighter-rouge">concat-words</code> from Part 1 using iterative recursion. The starter code already provides the following main function that initiates the iteration:</p> <div class="language-racket highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">;; concat-words/iter: (listof string) -&gt; string</span>
<span class="c1">;; takes a list of strings and concatenates them using iterative recursion</span>

<span class="p">(</span><span class="k">define</span> <span class="p">(</span><span class="nf">concat-words/iter</span> <span class="nv">lst-strs</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">concat-words-helper</span> <span class="nv">lst-strs</span> <span class="nv">concat-words-initial-value</span><span class="p">))</span>
</code></pre></div></div> <p>Your job is to define <code class="language-plaintext highlighter-rouge">concat-words-initial-value</code> and <code class="language-plaintext highlighter-rouge">concat-words-helper</code>. The output should exactly match what the output from your <code class="language-plaintext highlighter-rouge">concat-words</code> function given an identical input.</p> <details> <summary>Hint: Initial Value</summary> Define <code>concat-words-initial-value</code> to be the initial value of iterative recursion. </details> <details> <summary>Hint: Helper Function</summary> <code>;; concat-words-helper : (listof string) string -&gt; string</code><br><br> Define a function <code>concat-words-helper</code> that actually concatenates the strings using iterative recursion. It should take a list of strings and an accumulator as inputs, and output the concatenated string.<br><br> Think carefully about some examples:<br><br> <ul> <li>What should be the output of <code>(concat-words-helper (list "recursion" "is" "awesome") concat-words-initial-value)</code>?</li> <li>How about the expression <code>(concat-words-helper (list "is" "awesome") "recursion;")</code>?</li> <li>What is special about these two examples?</li> </ul> </details> <h3 id="activity-2-my-iterated-overlayiter">Activity 2. <code class="language-plaintext highlighter-rouge">my-iterated-overlay/iter</code> </h3> <p>Make a new function that behaves like <code class="language-plaintext highlighter-rouge">my-iterated-overlay</code> but uses iterative recursive, <code class="language-plaintext highlighter-rouge">my-iterated-overlay/iter</code>. Once again, this function should behave identically to <code class="language-plaintext highlighter-rouge">my-iterated-overlay</code> and have the same signature, but <strong>must</strong> use a helper function with an <strong>accumulator</strong>.</p> <div class="language-racket highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">; my-iterated-overlay/iter : (number -&gt; image), number -&gt; image</span>
</code></pre></div></div> <h3 id="activity-3-my-iterated-anyiter">Activity 3. <code class="language-plaintext highlighter-rouge">my-iterated-any/iter</code> </h3> <p>Same deal here. Make a new function that behaves like <code class="language-plaintext highlighter-rouge">my-iterated-any</code> but uses iterative recursion.</p> <div class="language-racket highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">; my-iterated-any/iter:</span>
<span class="c1">; (image image -&gt; image) (number -&gt; image) number -&gt; image</span>
<span class="c1">; ~~~~~~~~~~~~~~~~~~~~~~  ~~~~~~~~~~~~~~~  ~~~~~</span>
<span class="c1">; &lt;a-combiner&gt;           &lt;a-generator&gt;     &lt;the-count&gt;</span>
</code></pre></div></div> <hr> <h2 id="double-checking-your-work">Double Checking your Work</h2> <p>Make sure you’ve followed the process outlined in the introduction for every function, and that you’ve thoroughly tested your functions for all possible edge cases.</p> <p>Double check that you are not using <code class="language-plaintext highlighter-rouge">map</code>, <code class="language-plaintext highlighter-rouge">filter</code>, <code class="language-plaintext highlighter-rouge">foldl</code>, <code class="language-plaintext highlighter-rouge">foldr</code>, <code class="language-plaintext highlighter-rouge">build-list</code>, <code class="language-plaintext highlighter-rouge">apply</code>, or the original <code class="language-plaintext highlighter-rouge">iterated-images.rkt</code> file in any of your function definitions (it’s fine to use the image iterators in <code class="language-plaintext highlighter-rouge">check-expects</code>).</p> <p>Before turning your assignment in, <strong>run the file one last time</strong> to make sure that it runs properly and doesn’t generate any exceptions, and all the tests pass. Make sure you’ve also spent some time writing your OWN <code class="language-plaintext highlighter-rouge">check-expect</code> calls to test your code. <mark>REMEMBER that the TypeChecker IS NOT a guarantee that your functions work correctly. One of the goals of the class is for you to test your own code.</mark></p> <h2 id="submission-details">Submission Details</h2> <details> <summary><a href="https://canvas.northwestern.edu/courses/220479/pages/drracket-cheatsheet-2" rel="external nofollow noopener" target="_blank">DrRacket Cheat Sheet</a></summary> </details> <details> <summary><a href="https://canvas.northwestern.edu/courses/220479/pages/checking-for-syntax-or-runtime-errors-in-racket-2" rel="external nofollow noopener" target="_blank">Checking for Errors</a></summary> </details> <details> <summary><a href="https://canvas.northwestern.edu/courses/220479/pages/exercise-submission-+-grading-faq-2" rel="external nofollow noopener" target="_blank">Submission FAQ</a></summary> </details> <details> <summary><a href="https://canvas.northwestern.edu/courses/220479/pages/autograder-and-submission-faq-2" rel="external nofollow noopener" target="_blank">Autograder FAQ</a></summary> </details> <details> <summary><a href="https://docs.google.com/forms/d/e/1FAIpQLScm1haEI_pQhprNryZ5ckbFZi_LU5MCtasW86RSHCCqSuc3Zw/viewform?usp=sf_link" rel="external nofollow noopener" target="_blank">Late Penalty Waiver</a></summary> </details> </div> </article> </body> </html>